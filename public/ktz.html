<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>欢迎访问环境生态课题组！</title>
  <link rel="stylesheet" href="ktz.css">
  <!-- Google Fonts for modern look -->
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700|Orbitron:500,700&display=swap" rel="stylesheet">
 <style>
    /* 新增轮播图样式 */
    .carousel-container {
      width: 100%;
      overflow: hidden;
      position: relative;
      margin: 20px 0;
    }
    
    .carousel-track {
      display: flex;
      transition: transform 0.5s ease-in-out;
    }
    
    .carousel-slide {
      min-width: 100%;
      box-sizing: border-box;
    }
    
    .carousel-slide img {
      width: 100%;
      height: auto;
      display: block;
    }
    
    /* Added styles for the transparent bar below navigation */
    .transparent-bar {
      width: 100%;
      height: 20px;
      background-color: rgba(255, 255, 255, 0.3);
      margin-bottom: 20px;
    }

    /* Fix for buttons not working */
    button {
      cursor: pointer;
    }

    /* Style for active carousel slide */
    .carousel img {
      display: none;
      width: 100%;
      height: auto;
    }

    .carousel img.active {
      display: block;
    }

    /* Carousel navigation styles */
    .carousel {
      position: relative;
    }

    .carousel-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0, 0, 0, 0.5);
      color: white;
      border: none;
      padding: 10px;
      cursor: pointer;
      z-index: 10;
    }

    .carousel-btn.left {
      left: 10px;
    }

    .carousel-btn.right {
      right: 10px;
    }

    .carousel-dots {
      display: flex;
      justify-content: center;
      margin-top: 10px;
    }

    .carousel-dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: #ccc;
      margin: 0 5px;
      cursor: pointer;
    }

    .carousel-dot.active {
      background: #2e8b57;
    }

    /* Dark theme styles */
    .dark-theme {
      background-color: #222;
      color: #eee;
    }

    .dark-theme nav {
      background-color: #1a3a1a;
    }

    .dark-theme .sidebar {
      background-color: #333;
      color: #eee;
    }

    .dark-theme .sidebar a {
      color: #eee;
    }
  </style>

<style>
  /* 修改顶部按钮容器样式 */
  .top-right {
    position: relative; /* 改为相对定位 */
    top: auto;
    right: auto;
    display: flex;
    gap: 10px;
    margin: 10px 20px; /* 添加外边距 */
    justify-content: flex-end; /* 保持右对齐 */
  }

  /* 调整导航栏结构 */
  nav {
    background-color: #2e8b57;
    padding: 10px 0;
    display: flex;
    flex-direction: column; /* 改为垂直布局 */
  }

  nav > ul {
    order: 1; /* 导航链接在上 */
  }

  .nav-controls {
    order: 2; /* 控制按钮在下 */
    padding: 10px 20px;
  }
</style>

</head>

<body>
  

  <!-- 反馈弹窗 -->
  <div id="contact-modal" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.4);z-index:1000;align-items:center;justify-content:center;">
    <div style="background:#fff;padding:32px 24px;border-radius:12px;max-width:350px;width:90%;box-shadow:0 8px 32px #0002;position:relative;">
      <h3 style="margin-top:0;" data-lang="zh">意见反馈</h3>
      <h3 style="margin-top:0;display:none;" data-lang="en">Feedback</h3>
      <textarea id="feedback-text" style="width:100%;height:80px;resize:none;border-radius:6px;border:1px solid #a8d5ba;padding:8px;"></textarea>
      <div style="margin-top:12px;text-align:right;">
        <button onclick="submitFeedback()" style="margin-right:8px;" data-lang="zh">提交</button>
        <button onclick="submitFeedback()" style="margin-right:8px;display:none;" data-lang="en">Submit</button>
        <button onclick="closeContactModal()" data-lang="zh">关闭</button>
        <button onclick="closeContactModal()" style="display:none;" data-lang="en">Close</button>
      </div>
      <div id="feedback-success" style="color:green;display:none;margin-top:8px;" data-lang="zh">感谢您的反馈！</div>
      <div id="feedback-success" style="color:green;display:none;margin-top:8px;" data-lang="en">Thank you for your feedback!</div>
    </div>
  </div>

  <!-- 修改后的导航栏结构 -->
<nav>
  <ul>
    <li><a href="ktz.html" data-lang="zh">首页</a></li>
    <li><a href="../terms.html" data-lang="zh">成员</a></li>
    <li><a href="../research.html" data-lang="zh">科研成果</a></li>
    <li><a href="../news.html" data-lang="zh">学术活动</a></li>
    <li><a href="../resource/resources.html" data-lang="zh">资源下载</a></li>
  </ul>
  
  <!-- 将控制按钮移到导航栏内部下方 -->
  <div class="top-right">
    <input type="text" id="search-bar" placeholder="搜索...">
    <button onclick="searchContent()">搜索</button>
    <button onclick="toggleLanguage()">切换中/EN</button>
    <button onclick="toggleTheme()">切换主题</button>
    <button onclick="openContactModal()">意见反馈</button>
  </div>
</nav>
  <!-- 新增的透明条 -->
  <div class="transparent-bar"></div>

  <!-- 新增的轮播图部分 -->
  <div class="carousel">
    <div class="carousel-track">
      <img src="Camera_XHS_17477443227581040g0083134pp6bo722g5nj9018g8lanlm6dba8.jpg" alt="课题组活动1">
      <img src="Camera_XHS_17477443252851040g0083134pp6bo72305nj9018g8lanauhnpc0.jpg" alt="课题组活动2">
      <img src="Camera_XHS_17477443359671040g00831as90potn26g5olmsqm6o1dahgql6o8.jpg" alt="课题组活动3">
      <img src="Image_761613756171079.jpg" alt="课题组活动4">
      <img src="2025-05/Image_761689990495321.jpg" alt="课题组活动5">
    </div>
  </div>

  <!-- 网站内容 -->
  <header>
    <div class="header-container">
      <!-- 校徽 -->
      <img src="xh.png" alt="校徽">
      <!-- 标题 -->
      <div class="title">
        <h1 data-lang="zh">欢迎访问环境生态课题组！</h1>
        <h1 data-lang="en" style="display: none;">Welcome to the Environmental Ecology Research Group!</h1>
      </div>
    </div>
  </header>

  <main>
    <section id="about">
      <h2 data-lang="zh">关于我们</h2>
      <h2 data-lang="en" style="display:none;">About Us</h2>
      <p data-lang="zh">课题组简介内容...</p>
      <p data-lang="en" style="display:none;">Research group introduction...</p>
    </section>

    <section id="news">
      <h2 data-lang="zh">最新动态</h2>
      <h2 data-lang="en" style="display:none;">Latest News</h2>
      <p data-lang="zh">最新动态内容...</p>
      <p data-lang="en" style="display:none;">Latest news content...</p>
    </section>

    <!-- 新增的联系我们板块 -->
    <section id="contact">
      <h2 data-lang="zh">联系我们</h2>
      <h2 data-lang="en" style="display:none;">Contact Us</h2>
      <p data-lang="zh">
        办公电话：027－87282152<br>
        办公地址：中农业大学资源与环境学院东附楼<br>
        电子邮件：<a href="mailto:rghu@mail.hzau.edu.cn">rghu@mail.hzau.edu.cn</a>
      </p>
      <div style="margin: 18px auto; position: relative; max-width: 800px; min-width: 320px; width: 90%; display: flex; justify-content: center;">
        <!-- 静态地图图片及自定义标注 -->
        <img src="map.png" alt="地图" style="width:100%; max-width:800px; border:1px solid #ccc; border-radius:10px; display:block;">
        <!-- 标注符号 -->
        <div id="map-marker" style="position:absolute; left:52%; top:62%; transform:translate(-50%,-100%); cursor:pointer; z-index:2;">
          <svg width="32" height="32" viewBox="0 0 32 32">
            <circle cx="16" cy="16" r="10" fill="#e74c3c" stroke="#fff" stroke-width="3"/>
            <circle cx="16" cy="16" r="5" fill="#fff"/>
          </svg>
        </div>
        <!-- 标注内容气泡 -->
        <div id="marker-tooltip" style="display:none; position:absolute; left:52%; top:54%; transform:translate(-50%,-100%); background:rgba(255,255,255,0.85); border:1px solid #2e8b57; border-radius:8px; padding:10px 16px; color:#234d36; font-size:1em; box-shadow:0 2px 8px #0002; white-space:nowrap; z-index:3; transition:opacity 0.2s;">
          湖北武汉市洪山区南湖大道66号<br>华中农业大学资源与环境学院
        </div>
      </div>
      <script>
        // 地图标注气泡交互，支持悬停和点击固定/取消
        const marker = document.getElementById('map-marker');
        const tooltip = document.getElementById('marker-tooltip');
        let tooltipFixed = false;
        marker.addEventListener('mouseenter', () => {
          if (!tooltipFixed) tooltip.style.display = 'block';
        });
        marker.addEventListener('mouseleave', () => {
          if (!tooltipFixed) tooltip.style.display = 'none';
        });
        marker.addEventListener('touchstart', () => {
          if (!tooltipFixed) tooltip.style.display = 'block';
        });
        marker.addEventListener('touchend', () => {
          if (!tooltipFixed) tooltip.style.display = 'none';
        });
        marker.addEventListener('click', () => {
          tooltipFixed = !tooltipFixed;
          tooltip.style.display = tooltipFixed ? 'block' : 'none';
        });
      </script>
      <p data-lang="en" style="display:none;">
        Office Phone: 027-87282152<br>
        Office Address: East Annex, College of Resources and Environment, HZAU<br>
        Email: <a href="mailto:rghu@mail.hzau.edu.cn">rghu@mail.hzau.edu.cn</a>
      </p>
    </section>
  </main>

  <footer>
    <p data-lang="zh">
      联系地址：华中农业大学资源与环境学院<br>
      电 话：13720163192<br>
      环境生态课题组 | Environmental Ecology Research Group
    </p>
    <p data-lang="en" style="display:none;">
      Address: College of Resources and Environment, Huazhong Agricultural University<br>
      Phone: 13720163192<br>
      Environmental Ecology Research Group
    </p>
  </footer>

  <script>

    // 当前语言状态
    let currentLang = 'zh';
    // 切换中英文功能
    function toggleLanguage() {
      const zhEls = document.querySelectorAll('[data-lang="zh"]');
      const enEls = document.querySelectorAll('[data-lang="en"]');

      if (currentLang === 'zh') {
        // 切换到英文
        zhEls.forEach(el => el.style.display = 'none');
        enEls.forEach(el => el.style.display = 'block');
        currentLang = 'en';

        // 更新搜索框占位符
        document.getElementById('search-bar').placeholder = 'Search...';
      } else {
        // 切换到中文
        zhEls.forEach(el => el.style.display = 'block');
        enEls.forEach(el => el.style.display = 'none');
        currentLang = 'zh';

        // 更新搜索框占位符
        document.getElementById('search-bar').placeholder = '搜索...';
      }
    }

    // 搜索功能
    function searchContent() {
      const query = document.getElementById('search-bar').value.toLowerCase();
      const sections = document.querySelectorAll('section');
      sections.forEach(section => {
        if (section.innerText.toLowerCase().includes(query)) {
          section.style.display = 'block';
        } else {
          section.style.display = 'none';
        }
      });
    }

    // 轮播图自动播放
    let currentSlide = 0;
    let slideInterval;
    let isHovered = false;
    let slides, totalSlides, dots;

    function showSlide(index) {
      slides.forEach((slide, i) => {
        if (i === index) {
          slide.classList.add('active');
        } else {
          slide.classList.remove('active');
        }
      });
      // 更新指示点
      if (dots) {
        dots.forEach((dot, i) => {
          dot.classList.toggle('active', i === index);
        });
      }
    }

    function nextSlide() {
      currentSlide = (currentSlide + 1) % totalSlides;
      showSlide(currentSlide);
    }

    function prevSlide() {
      currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
      showSlide(currentSlide);
    }

    function goToSlide(idx) {
      currentSlide = idx;
      showSlide(currentSlide);
    }

    function startAutoSlide() {
      slideInterval = setInterval(() => {
        if (!isHovered) nextSlide();
      }, 4000);
    }

    function stopAutoSlide() {
      clearInterval(slideInterval);
    }

    // 主题切换功能（浅色/深色）
    function toggleTheme() {
      const body = document.body;
      if (body.classList.contains('dark-theme')) {
        body.classList.remove('dark-theme');
        localStorage.setItem('theme', 'light');
      } else {
        body.classList.add('dark-theme');
        localStorage.setItem('theme', 'dark');
      }
    }

    document.addEventListener('DOMContentLoaded', () => {
      // 轮播图初始化
      slides = document.querySelectorAll('.carousel img');
      totalSlides = slides.length;
      // 指示点
      const dotsContainer = document.createElement('div');
      dotsContainer.className = 'carousel-dots';
      dots = [];
      for (let i = 0; i < totalSlides; i++) {
        const dot = document.createElement('div');
        dot.className = 'carousel-dot' + (i === 0 ? ' active' : '');
        dot.addEventListener('click', () => goToSlide(i));
        dotsContainer.appendChild(dot);
        dots.push(dot);
      }
      document.querySelector('.carousel').appendChild(dotsContainer);
      // 左右按钮
      const leftBtn = document.createElement('button');
      leftBtn.className = 'carousel-btn left';
      leftBtn.innerHTML = '&#8592;';
      leftBtn.onclick = prevSlide;
      const rightBtn = document.createElement('button');
      rightBtn.className = 'carousel-btn right';
      rightBtn.innerHTML = '&#8594;';
      rightBtn.onclick = nextSlide;
      document.querySelector('.carousel').appendChild(leftBtn);
      document.querySelector('.carousel').appendChild(rightBtn);
      // 鼠标悬停暂停
      const carousel = document.querySelector('.carousel');
      carousel.addEventListener('mouseenter', () => { isHovered = true; });
      carousel.addEventListener('mouseleave', () => { isHovered = false; });
      showSlide(currentSlide);
      startAutoSlide();

      // 页面加载时自动应用主题
      if (localStorage.getItem('theme') === 'dark') {
        document.body.classList.add('dark-theme');
      }
    });

    // 反馈弹窗交互
    function openContactModal() {
      document.getElementById('contact-modal').style.display = 'flex';
      document.getElementById('feedback-success').style.display = 'none';
      document.getElementById('feedback-text').value = '';
    }

    function closeContactModal() {
      document.getElementById('contact-modal').style.display = 'none';
    }

    function submitFeedback() {
      document.getElementById('feedback-success').style.display = 'block';
      setTimeout(closeContactModal, 1200);
    }
  </script>
</body>

</html>
